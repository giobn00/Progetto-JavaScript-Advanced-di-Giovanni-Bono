(()=>{"use strict";document.getElementById("searchBtn").addEventListener("click",(function(){let e=document.getElementById("input").value;fetch(`https://openlibrary.org/subjects/${e}.json`).then((e=>{if(!e.ok)throw new Error("Category not found or no Books available");return e.json()})).then((e=>{if(!e.works||0===e.works.length)throw new Error("No Books available for this category");!function(e){let t=document.getElementById("resultContainer");t.innerHTML="",e.forEach((e=>{let o=e.title,n=e.authors?e.authors.map((e=>e.name)).join(", "):"N/A",r=document.createElement("div");r.classList.add("BookInfo"),r.innerHTML=`<strong>${o}</strong>\n                                <p>Authors: ${n}</p>\n                                <button class="BookInfo-btn" type="button">View Description</button>`,r.querySelector(".BookInfo-btn").addEventListener("click",(()=>{var t;t=e.key,fetch(`https://openlibrary.org${t}.json`).then((e=>e.json())).then((e=>function(e){"string"==typeof e.value?alert(e.value):alert(e)}(e.description))).catch((e=>console.error("Error fetching description:",e)),alert("No description available for this book"))})),t.appendChild(r)}))}(e.works)})).catch((e=>{var t;console.error("Error fetching data:",e),t=e.message,document.getElementById("resultContainer").innerHTML=`<div class="error">${t}</div>`}))}))})();